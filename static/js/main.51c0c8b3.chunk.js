(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{12:function(e,t,a){e.exports={wrapper:"Sync_wrapper__3nDo8",AnimationName:"Sync_AnimationName__1dH4-",form:"Sync_form__1UUcD",logo:"Sync_logo__2Efod",btn:"Sync_btn__TqCn-",link:"Sync_link__3QI0d"}},2:function(e,t,a){e.exports={wrapper:"Home_wrapper__21I8r",AnimationName:"Home_AnimationName__129wy",form:"Home_form__2PVZc",colorsSection:"Home_colorsSection__1qhpQ",colors:"Home_colors__Wn3v2",color:"Home_color__SxRST",colorActive:"Home_colorActive__TtI0C",input:"Home_input__g22eg",buttonSection:"Home_buttonSection__3IyhQ",button:"Home_button__2bu16",history:"Home_history__BbYal",itemWrapper:"Home_itemWrapper__15sR6",listName:"Home_listName__yPDAa",circle:"Home_circle__3OO7o",syncWrapper:"Home_syncWrapper__cWi-O",syncedOptions:"Home_syncedOptions__2Ubl0",localOptions:"Home_localOptions__2rxR5",hint:"Home_hint__3fEJU",btn:"Home_btn__w4qdg"}},20:function(e,t,a){e.exports=a.p+"static/media/logo.d97cd11c.png"},3:function(e,t,a){e.exports={red:"Colors_red__2umzL",green:"Colors_green__26MeA",blue:"Colors_blue__3RJOr",dark:"Colors_dark__1UBtV",default:"Colors_default__1OxFX",redB:"Colors_redB__3E4Kk",greenB:"Colors_greenB__VAT1Q",blueB:"Colors_blueB__1Wfjx",darkB:"Colors_darkB__31ZA4",defaultB:"Colors_defaultB__XvoLG"}},39:function(e,t,a){e.exports={wrapper:"QR_wrapper__2ReFL"}},42:function(e,t,a){e.exports=a(90)},47:function(e,t,a){},6:function(e,t,a){e.exports={list:"List_list__3Y7K_",background:"List_background__38Tqr",link:"List_link__3S9sQ",header:"List_header__1dY2M",titleSection:"List_titleSection__2ygVl",headerTitle:"List_headerTitle__1KaA3",title:"List_title__2nKQA",titleButton:"List_titleButton__2bwLa",copySection:"List_copySection__3tSQk",copyLink:"List_copyLink__2y28D",inputWrapper:"List_inputWrapper__haad0",input:"List_input__1a24L",addButton:"List_addButton__2tGz8",pseudoExtender:"List_pseudoExtender__1oyS8"}},7:function(e,t,a){e.exports={card:"Card_card__3MKhb",grid:"Card_grid__3qjAA",btn:"Card_btn__1icHr",menuBtn:"Card_menuBtn__3nbt5",done:"Card_done__1-s6X",active:"Card_active__2XdAX",textDone:"Card_textDone__6XGo6",options:"Card_options__2zSzB",icon:"Card_icon__38c_C",input:"Card_input__1HGG_"}},90:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(35),r=a.n(o),l=(a(47),a(13)),i=a(4),s=a(1),u=a(6),m=a.n(u),d=a(7),f=a.n(d),p=a(36),_=a.n(p).a.create({baseURL:"https://todo-list-4b27a.firebaseio.com/",withCredentials:!1}),b={fetchList:function(e){return _.get("storage/".concat(e,".json")).then((function(e){return e.data}))},addTask:function(e,t){return _.post("storage/".concat(e,"/items.json"),{text:t,done:!1}).then((function(e){return e.data}))},createList:function(e,t){return _.post("storage.json",JSON.stringify({name:e,color:t,items:[]})).then((function(e){return e.data}))},editTask:function(e,t,a){return _.patch("storage/".concat(e,"/items/").concat(t,".json"),{text:a.text,done:a.done}).then((function(e){return e.data}))},deleteTask:function(e,t){return _.delete("storage/".concat(e,"/items/").concat(t,".json")).then((function(e){return e.data}))},renameList:function(e,t){return _.patch("storage/".concat(e,".json"),{name:t}).then((function(e){return e.data}))},createUser:function(){return _.post("pins.json",{pins:{}}).then((function(e){return e.data}))},fetchPins:function(e){return _.get("pins/".concat(e,".json")).then((function(e){return e.data}))},setPins:function(e,t){return _.patch("pins/".concat(e,".json"),{pins:t}).then((function(e){return e.data}))}};window.API=b;var E=a(37),v=a.n(E),N=function(e){return c.a.createElement("div",{className:f.a.options},e.editMode?c.a.createElement("div",{className:f.a.icon+" "+e.colorF,onClick:e.saveFun},c.a.createElement("i",{className:"fas fa-check"})," ","Save"):c.a.createElement("div",{className:f.a.icon+" "+e.colorF,onClick:e.editFun},c.a.createElement("i",{className:"fas fa-pen"})," ","Edit"),c.a.createElement("div",{className:f.a.icon+" "+e.colorF,onClick:e.deleteFun},c.a.createElement("i",{className:"fas fa-trash"})," Delete"))},h=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(!1),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(n.useState)(e.text),p=Object(s.a)(d,2),_=p[0],E=p[1],h=function(){b.editTask(e.list,e.id,{text:e.text,done:!e.done}).then((function(){e.update(e.list)}))},y=function(){b.editTask(e.list,e.id,{text:_,done:e.done}).then((function(){m(!1),e.update(e.list)}))};return c.a.createElement("div",{className:"".concat(f.a.card," ").concat(e.done?f.a.done:f.a.active)},c.a.createElement("div",{className:f.a.grid},c.a.createElement("div",{className:f.a.btn+" "+e.colorF}," ",e.done?c.a.createElement("i",{className:"fas fa-check-circle",onClick:h}):c.a.createElement("i",{className:"far fa-circle",onClick:h})),c.a.createElement("div",{className:e.done?f.a.textDone:f.a.textActive},u?c.a.createElement("input",{onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),y())},className:f.a.input,autoFocus:!0,value:_,onChange:function(e){E(e.target.value)}}):c.a.createElement(v.a,{componentDecorator:function(e,t,a){return c.a.createElement("a",{target:"blank",href:e,key:a,style:{color:"black"}},"Link")}},c.a.createElement("span",null,e.text))),c.a.createElement("div",{className:f.a.btn+" "+e.colorF},c.a.createElement("i",{id:f.a.menuBtn,className:"fas fa-ellipsis-h",onClick:function(){return r(!o)}}))),o&&c.a.createElement(N,{colorF:e.colorF,hideFun:function(){r(!1)},markFun:h,deleteFun:function(){b.deleteTask(e.list,e.id).then((function(){e.update(e.list)}))},editMode:u,editFun:function(){return m(!0)},saveFun:y}))},y=a(38),k=a(3),g=a.n(k),O=a(39),S=a.n(O),j=a(40),C=a.n(j),w=function(e){return c.a.createElement("div",{className:S.a.wrapper,onClick:e.hideFun},c.a.createElement(C.a,{value:e.link}))},x=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],r=a[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),d=u[0],f=u[1],p=Object(n.useState)(e.title),_=Object(s.a)(p,2),E=_[0],v=_[1],N=Object(n.useState)(!1),h=Object(s.a)(N,2),k=h[0],g=h[1],O=Object(n.useState)(!1),S=Object(s.a)(O,2),j=S[0],C=S[1];Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("pins"));v(e.title),g(null!==t&&t.includes(e.listId))}),[e.listId,k,e.title]);return c.a.createElement("div",{className:m.a.header},c.a.createElement("div",{className:m.a.titleSection},c.a.createElement("div",{className:m.a.headerTitle},d?c.a.createElement("input",{autoFocus:!0,placeholder:"New title...",onChange:function(e){v(e.target.value)},value:E}):c.a.createElement("div",{className:m.a.title},c.a.createElement(l.b,{className:m.a.link+" "+e.color,to:"/"},"ToDoDoLi:"),c.a.createElement("span",{onClick:function(){return f(!0)},style:{cursor:"pointer"}},e.title)||"")),d&&c.a.createElement("div",{className:m.a.titleButton},c.a.createElement("i",{className:"fas fa-check",onClick:function(){b.renameList(e.listId,""===E?e.title:E).then((function(){f(!1),e.update(e.listId)}))}})),!d&&c.a.createElement("div",{className:m.a.titleButton,onClick:function(){!function(t){var a=JSON.parse(localStorage.getItem("pins")),n=localStorage.getItem("syncKey");if(null===a&&(a=[]),a.includes(e.listId)){var c=a.indexOf(e.listId);a.splice(c,1)}t?(a.unshift(e.listId),g(!0)):g(!1),localStorage.setItem("pins",JSON.stringify(a)),null!==n&&b.setPins(n,a),e.update(e.listId)}(!k)}},c.a.createElement("i",{className:k?"fas fa-star":"far fa-star"}))),c.a.createElement("div",{className:m.a.copySection},c.a.createElement(y.CopyToClipboard,{text:e.link,onCopy:function(){return r(!0)}},c.a.createElement("div",{className:m.a.copyLink},c.a.createElement("i",{className:o?"fas fa-check":"fas fa-link"})))),c.a.createElement("div",{className:m.a.copySection},c.a.createElement("div",{className:m.a.copyLink,onClick:function(){return C(!0)}},c.a.createElement("i",{className:"fas fa-qrcode"})),j&&c.a.createElement(w,{link:e.link,hideFun:function(){return C(!1)}})))},B=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],r=a[1],l=function(){""!==o&&(e.addTask(o),r(""),document.querySelector("#input").focus())};return c.a.createElement("div",{className:m.a.inputWrapper,id:"addCard"},c.a.createElement("input",{autoComplete:"off",id:"input",placeholder:"New task...",className:m.a.input,value:o,onChange:function(e){r(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),l())}}),c.a.createElement("div",{className:m.a.addButton+" "+e.color,style:""!==o?{opacity:1}:{opacity:.6},onClick:l},c.a.createElement("i",{className:"fas fa-plus-circle"})))},I=function(){var e=Object(i.g)().id,t=Object(n.useState)({}),a=Object(s.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)(""),u=Object(s.a)(l,2),d=u[0],f=u[1],p=Object(n.useState)(g.a.default),_=Object(s.a)(p,2),E=_[0],v=_[1],N=Object(n.useState)(g.a.defaultB),y=Object(s.a)(N,2),k=y[0],O=y[1],S=Object(n.useState)(""),j=Object(s.a)(S,2),C=j[0],w=j[1];Object(n.useEffect)((function(){w(window.location.href),window.scrollTo({top:0,behavior:"smooth"})}),[]),Object(n.useEffect)((function(){L(e)}),[e]);var I=function(){var t=JSON.parse(localStorage.getItem("history")),a=JSON.parse(localStorage.getItem("pins"));if(null===a&&(a=[]),null===t&&(t=[]),t.includes(e)){var n=t.indexOf(e);t.splice(n,1)}if(a.includes(e)){var c=a.indexOf(e);a.splice(c,1),a.unshift(e),localStorage.setItem("pins",JSON.stringify(a))}else t.unshift(e)>10&&t.pop();localStorage.setItem("history",JSON.stringify(t))},L=function(e){b.fetchList(e).then((function(e){if(I(),null!=e)switch(r(e.items),f(e.name),e.color){case"red":O(g.a.redB),v(g.a.red);break;case"blue":O(g.a.blueB),v(g.a.blue);break;case"green":O(g.a.greenB),v(g.a.green);break;case"dark":O(g.a.darkB),v(g.a.dark);break;default:O(g.a.defaultB),v(g.a.default)}}))},F=o?Object.entries(o).map((function(t){var a=Object(s.a)(t,2),n=a[0],o=a[1];if(o.done)return c.a.createElement(h,{colorF:E,done:o.done,text:o.text,key:n,id:n,list:e,update:L})})):null,H=o?Object.entries(o).map((function(t){var a=Object(s.a)(t,2),n=a[0],o=a[1];if(!o.done)return c.a.createElement(h,{colorF:E,done:o.done,text:o.text,key:n,id:n,list:e,update:L})})):null;return c.a.createElement("div",{className:"".concat(m.a.background," ").concat(k)},c.a.createElement(x,{title:d,listId:e,update:L,link:C,color:E}),c.a.createElement("div",{className:m.a.list},F,H,c.a.createElement(B,{addTask:function(t){b.addTask(e,t).then((function(t){t.name&&L(e),document.querySelector("#addCard").scrollIntoView()}))},color:E}),c.a.createElement("div",{className:m.a.pseudoExtender})))},L=a(2),F=a.n(L),H=a(17),A=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],r=a[1],l=Object(n.useState)([]),i=Object(s.a)(l,2),u=i[0],m=i[1];Object(n.useEffect)((function(){d(),f()}),[]);var d=function(){var e=localStorage.getItem("syncKey");if(null!=e)b.fetchPins(e).then((function(e){null!=e?(m(e.pins),localStorage.setItem("pins",JSON.stringify(e.pins))):(m([]),localStorage.setItem("pins",JSON.stringify([])))}));else{var t=localStorage.getItem("pins");null!=t&&m(JSON.parse(t))}},f=function(){var e=localStorage.getItem("history");null!=e&&r(JSON.parse(e))},p=o.map((function(e){return c.a.createElement(T,{id:e,key:e,pin:!1})})),_=u.map((function(e){return c.a.createElement(T,{id:e,key:e,pin:!0})}));return c.a.createElement("div",{className:F.a.history},_,p)},T=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),o=a[0],r=a[1];Object(n.useEffect)((function(){u()}),[e.id]);var i=function(e){switch(e){case"red":return g.a.red;case"green":return g.a.green;case"dark":return g.a.dark;case"blue":return g.a.blue;default:return g.a.default}},u=function(){b.fetchList(e.id).then((function(e){r(null!=e?{name:e.name,color:i(e.color)}:{name:"It's a bug, lol",color:g.a.default})}))};return c.a.createElement(l.b,{to:"/".concat(e.id),style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:F.a.itemWrapper,style:o.name?{opacity:1}:{opacity:0}},c.a.createElement("div",{className:F.a.circle+" "+o.color},o.color&&c.a.createElement("i",{className:e.pin?"fas fa-star":"fas fa-circle"})),c.a.createElement("div",{className:F.a.listName},o.name||"")))},D=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(null),i=Object(s.a)(r,2),u=i[0],m=i[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),p=f[0],_=f[1],E=Object(n.useState)(!1),v=Object(s.a)(E,2),N=v[0],h=v[1],y=Object(n.useState)(!1),k=Object(s.a)(y,2),g=k[0],O=k[1],S=Object(n.useState)(!1),j=Object(s.a)(S,2),C=j[0],x=j[1];Object(n.useEffect)((function(){B()}),[a]);var B=function(){var e=localStorage.getItem("syncKey");o(null!=e),m(e),_(I)},I=function(){return window.location.href+"sync/"+u};return c.a.createElement("div",{className:F.a.syncWrapper,style:C||g?{}:{opacity:.6}},a?c.a.createElement("div",{className:F.a.isSynced},C&&c.a.createElement("div",{className:F.a.hint},"Your pinned lists are cloud stored. You can sync a new device using the link below. ",c.a.createElement(l.b,{style:{color:"black"},to:"/nosync"},"Disable sync")),c.a.createElement("div",{className:F.a.syncedOptions},c.a.createElement(H.CopyToClipboard,{text:p,onCopy:function(){return h(!0)}},c.a.createElement("div",{className:F.a.btn},c.a.createElement("i",{className:N?"fas fa-check":"fas fa-link"}),N?"Copied":"Copy link")),c.a.createElement("div",{className:F.a.btn,onClick:function(){return O(!0)}},c.a.createElement("i",{className:"fas fa-qrcode"}),"QR"),g&&c.a.createElement(w,{link:p,hideFun:function(){return O(!1)}}),c.a.createElement("div",{className:F.a.btn,onClick:function(){return x(!C)}},c.a.createElement("i",{className:C?"fas fa-chevron-up":"fas fa-chevron-down"}),"Hint"))):c.a.createElement("div",{className:F.a.isSynced},C&&c.a.createElement("div",{className:F.a.hint},"This devise shows your local pins. Start with creating a Cloud for pins. You'll be able to sync your connected devices"),c.a.createElement("div",{className:F.a.localOptions},c.a.createElement("div",{className:F.a.btn,onClick:function(){b.createUser().then((function(e){if(null!=e){var t=JSON.parse(localStorage.getItem("pins"));b.setPins(e.name,t).then((function(){m(e.name),o(!0),_(I()),localStorage.setItem("syncKey",e.name)}))}}))}},c.a.createElement("i",{className:"fas fa-cloud"}),"New Cloud"),c.a.createElement("div",{className:F.a.btn,onClick:function(){return x(!C)}},c.a.createElement("i",{className:C?"fas fa-chevron-up":"fas fa-chevron-down"}),"Hint"))))},J=function(){var e=Object(n.useState)("red"),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(""),l=Object(s.a)(r,2),u=l[0],m=l[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),p=f[0],_=f[1],E=function(){b.createList(""!==u?u:"New list",a).then((function(e){_("/"+e.name)}))};return""!==p?c.a.createElement(i.a,{to:p}):c.a.createElement("div",{className:F.a.wrapper},c.a.createElement("div",null,c.a.createElement(D,null),c.a.createElement("div",{className:F.a.form},c.a.createElement("div",{className:F.a.input},c.a.createElement("input",{onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),E())},placeholder:"New List...",value:u,onChange:function(e){return m(e.target.value)}})),c.a.createElement("div",{className:F.a.colorsSection},c.a.createElement("div",{className:F.a.colors},c.a.createElement("div",{className:("red"===a?F.a.colorActive:F.a.color)+" "+g.a.redB,onClick:function(){return o("red")}}),c.a.createElement("div",{className:("green"===a?F.a.colorActive:F.a.color)+" "+g.a.greenB,onClick:function(){return o("green")}}),c.a.createElement("div",{className:("blue"===a?F.a.colorActive:F.a.color)+" "+g.a.blueB,onClick:function(){return o("blue")}}),c.a.createElement("div",{className:("dark"===a?F.a.colorActive:F.a.color)+" "+g.a.darkB,onClick:function(){return o("dark")}}))),c.a.createElement("div",{className:F.a.buttonSection},c.a.createElement("div",{className:F.a.button,onClick:E},"Create List"))),c.a.createElement(A,null)))},K=a(12),W=a.n(K),P=a(20),q=a.n(P),Q=function(e){var t=Object(i.g)().id,a=Object(n.useState)(!1),o=Object(s.a)(a,2),r=o[0],u=o[1];return r?c.a.createElement(i.a,{to:"/"}):e.nosync?c.a.createElement("div",{className:W.a.wrapper},c.a.createElement("div",{className:W.a.form},c.a.createElement("img",{src:q.a,className:W.a.logo,alt:"logo"}),c.a.createElement("div",null,"Note that this device will be no longer synchronized with your cloud pins."),c.a.createElement("div",{className:W.a.btn,onClick:function(){localStorage.removeItem("syncKey"),u(!0)}},c.a.createElement("i",{className:"fas fa-plane"})," Disable sync"),c.a.createElement("div",{className:W.a.link},c.a.createElement(l.b,{to:"/",style:{color:"black"}},"Cancel")))):c.a.createElement("div",{className:W.a.wrapper},c.a.createElement("div",{className:W.a.form},c.a.createElement("img",{src:q.a,className:W.a.logo,alt:"logo"}),c.a.createElement("div",null,"Your device is going to be synchronized with your cloud pins. Your local pins will be erased."),c.a.createElement("div",{className:W.a.btn,onClick:function(){localStorage.setItem("syncKey",t),u(!0)}},c.a.createElement("i",{className:"fas fa-cloud"}),"Enable sync"),c.a.createElement("div",{className:W.a.link},c.a.createElement(l.b,{to:"/",style:{color:"black"}},"Cancel"))))},R=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(l.a,null,c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/sync/:id",render:function(){return c.a.createElement(Q,null)}}),c.a.createElement(i.b,{exact:!0,path:"/nosync",render:function(){return c.a.createElement(Q,{nosync:!0})}}),c.a.createElement(i.b,{exact:!0,path:"/",component:J}),c.a.createElement(i.b,{exact:!0,path:"/:id",component:I}))))};a(89),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.51c0c8b3.chunk.js.map