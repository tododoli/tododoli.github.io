(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{11:function(e,t,a){e.exports={wrapper:"Sync_wrapper__2zBfl",AnimationName:"Sync_AnimationName__usT5O",form:"Sync_form__2ejJi",logo:"Sync_logo__Yoa4l",btn:"Sync_btn__1FJiN",link:"Sync_link__3YNb4"}},2:function(e,t,a){e.exports={wrapper:"Home_wrapper__rTTa1",AnimationName:"Home_AnimationName__qUYgZ",form:"Home_form__1obv-",colorsSection:"Home_colorsSection__1Rh5n",colors:"Home_colors__3sEQT",color:"Home_color__U61Bf",colorActive:"Home_colorActive__1hN5Y",input:"Home_input__QUMuj",buttonSection:"Home_buttonSection__1pJNa",button:"Home_button__qdNcY",history:"Home_history__3Tn-T",clearWrapper:"Home_clearWrapper__1fx9l",itemWrapper:"Home_itemWrapper__GXjQg",listName:"Home_listName__xL_NT",circle:"Home_circle__2NXn7",syncWrapper:"Home_syncWrapper__2hbE3",syncedOptions:"Home_syncedOptions__1yUFo",localOptions:"Home_localOptions__xZqaN",hint:"Home_hint__2Ioem",btn:"Home_btn__Uap2z"}},20:function(e,t,a){e.exports=a.p+"static/media/logo.00e1ec44.png"},39:function(e,t,a){e.exports={wrapper:"QR_wrapper__1Bf0i"}},4:function(e,t,a){e.exports={list:"List_list__1jfY8",background:"List_background__O8HIp",link:"List_link__o6LvF",header:"List_header__1GHFD",titleSection:"List_titleSection__3cC3X",headerTitle:"List_headerTitle__gpmNc",title:"List_title__nAlFa",titleButton:"List_titleButton__26p2h",copySection:"List_copySection__hyO41",copyLink:"List_copyLink__3iMNy",hiddenWrapper:"List_hiddenWrapper__K9AUM",ic:"List_ic__kHCyY",label:"List_label__1FgIm",inputWrapper:"List_inputWrapper__jPMAd",input:"List_input__1DWB7",addButton:"List_addButton__2x6HD",pseudoExtender:"List_pseudoExtender__vW1jw"}},42:function(e,t,a){e.exports=a(90)},47:function(e,t,a){},6:function(e,t,a){e.exports={card:"Card_card__2jM4C",grid:"Card_grid__70CZm",btn:"Card_btn__2gE9e",menuBtn:"Card_menuBtn__2s3H0",done:"Card_done__3tHZZ",active:"Card_active__2qPD6",textDone:"Card_textDone__1NVVJ",options:"Card_options__2hd_F",icon:"Card_icon__7wqIT",input:"Card_input__3cEfA"}},90:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(35),i=a.n(o),r=(a(47),a(12)),l=a(3),s=a(15),u=a(1),m=a(4),d=a.n(m),f=a(6),p=a.n(f),_=a(36),b=a.n(_).a.create({baseURL:"https://todo-list-4b27a.firebaseio.com/",withCredentials:!1}),E={fetchList:function(e){return b.get("storage/".concat(e,".json")).then((function(e){return e.data}))},addTask:function(e,t){return b.post("storage/".concat(e,"/items.json"),{text:t,done:!1}).then((function(e){return e.data}))},createList:function(e,t){return b.post("storage.json",JSON.stringify({name:e,color:t,items:[]})).then((function(e){return e.data}))},editTask:function(e,t,a){return b.patch("storage/".concat(e,"/items/").concat(t,".json"),{text:a.text,done:a.done}).then((function(e){return e.data}))},deleteTask:function(e,t){return b.delete("storage/".concat(e,"/items/").concat(t,".json")).then((function(e){return e.data}))},renameList:function(e,t){return b.patch("storage/".concat(e,".json"),{name:t}).then((function(e){return e.data}))},createUser:function(){return b.post("pins.json",{pins:{}}).then((function(e){return e.data}))},fetchPins:function(e){return b.get("pins/".concat(e,".json")).then((function(e){return e.data}))},setPins:function(e,t){return b.patch("pins/".concat(e,".json"),{pins:t}).then((function(e){return e.data}))}};window.API=E;var v=a(37),h=a.n(v),N=function(e){if(/^#[0-9A-F]{6}$/i.test(e))return e;switch(e){case"red":return"#e76f51";case"blue":return"#0077b6";case"green":return"#40916c";case"dark":return"#ff5d8f";default:return"#495057"}},y=function(e){return{color:N(e),borderColor:N(e)}},O=function(e){var t=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(N(e));return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[236,236,236]}(e);return{backgroundColor:"rgba(".concat(t[0],",").concat(t[1],",").concat(t[2],",.7)")}},j=["#577590","#f2a541","#cc0029","#ce4760","#3ab795","#495057"],g=function(e){return c.a.createElement("div",{className:p.a.options},e.editMode?c.a.createElement("div",{className:p.a.icon,style:y(e.color),onClick:e.saveFun},c.a.createElement("i",{className:"fas fa-check"})," ","Save"):c.a.createElement("div",{className:p.a.icon,style:y(e.color),onClick:e.editFun},c.a.createElement("i",{className:"fas fa-pen"})," ","Edit"),c.a.createElement("div",{className:p.a.icon,style:y(e.color),onClick:e.deleteFun},c.a.createElement("i",{className:"fas fa-trash"})," Delete"))},S=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)(!1),l=Object(u.a)(r,2),s=l[0],m=l[1],d=Object(n.useState)(e.text),f=Object(u.a)(d,2),_=f[0],b=f[1],v=function(){E.editTask(e.list,e.id,{text:e.text,done:!e.done}).then((function(){e.update(e.list)}))},N=function(){E.editTask(e.list,e.id,{text:_,done:e.done}).then((function(){m(!1),e.update(e.list)}))};return c.a.createElement("div",{className:"".concat(p.a.card," ").concat(e.done?p.a.done:p.a.active)},c.a.createElement("div",{className:p.a.grid},c.a.createElement("div",{className:p.a.btn,style:y(e.color)}," ",e.done?c.a.createElement("i",{className:"fas fa-check-circle",onClick:v}):c.a.createElement("i",{className:"far fa-circle",onClick:v})),c.a.createElement("div",{className:e.done?p.a.textDone:p.a.textActive},s?c.a.createElement("input",{onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),N())},className:p.a.input,autoFocus:!0,value:_,onChange:function(e){b(e.target.value)}}):c.a.createElement(h.a,{componentDecorator:function(e,t,a){return c.a.createElement("a",{target:"blank",href:e,key:a,style:{color:"black"}},"Link")}},c.a.createElement("span",null,e.text))),c.a.createElement("div",{className:p.a.btn,style:y(e.color)},c.a.createElement("i",{id:p.a.menuBtn,className:"fas fa-ellipsis-h",onClick:function(){return i(!o)}}))),o&&c.a.createElement(g,{color:e.color,hideFun:function(){i(!1)},markFun:v,deleteFun:function(){E.deleteTask(e.list,e.id).then((function(){e.update(e.list)}))},editMode:s,editFun:function(){return m(!0)},saveFun:N}))},k=a(38),C=a(39),w=a.n(C),x=a(40),I=a.n(x),L=function(e){return c.a.createElement("div",{className:w.a.wrapper,onClick:e.hideFun},c.a.createElement(I.a,{value:e.link}))},H=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(!1),s=Object(u.a)(l,2),m=s[0],f=s[1],p=Object(n.useState)(e.title),_=Object(u.a)(p,2),b=_[0],v=_[1],h=Object(n.useState)(!1),N=Object(u.a)(h,2),O=N[0],j=N[1],g=Object(n.useState)(!1),S=Object(u.a)(g,2),C=S[0],w=S[1];Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("pins"));v(e.title),j(null!==t&&t.includes(e.listId))}),[e.listId,O,e.title]);return c.a.createElement("div",{className:d.a.header},c.a.createElement("div",{className:d.a.titleSection},c.a.createElement("div",{className:d.a.headerTitle},m?c.a.createElement("input",{autoFocus:!0,placeholder:"New title...",onChange:function(e){v(e.target.value)},value:b}):c.a.createElement("div",{className:d.a.title},c.a.createElement(r.b,{className:d.a.link,style:y(e.color),to:"/"},"ToDoDoLi:"),c.a.createElement("span",{onClick:function(){return f(!0)},style:{cursor:"pointer"}},e.title)||"")),m&&c.a.createElement("div",{className:d.a.titleButton},c.a.createElement("i",{className:"fas fa-check",onClick:function(){E.renameList(e.listId,""===b?e.title:b).then((function(){f(!1),e.update(e.listId)}))}})),!m&&c.a.createElement("div",{className:d.a.titleButton,onClick:function(){!function(t){var a=JSON.parse(localStorage.getItem("pins")),n=localStorage.getItem("syncKey");if(null===a&&(a=[]),a.includes(e.listId)){var c=a.indexOf(e.listId);a.splice(c,1)}t?(a.unshift(e.listId),j(!0)):j(!1),localStorage.setItem("pins",JSON.stringify(a)),null!==n&&E.setPins(n,a),e.update(e.listId)}(!O)}},c.a.createElement("i",{className:O?"fas fa-star":"far fa-star"}))),c.a.createElement("div",{className:d.a.copySection},c.a.createElement(k.CopyToClipboard,{text:e.link,onCopy:function(){return i(!0)}},c.a.createElement("div",{className:d.a.copyLink},c.a.createElement("i",{className:o?"fas fa-check":"fas fa-link"})))),c.a.createElement("div",{className:d.a.copySection},c.a.createElement("div",{className:d.a.copyLink,onClick:function(){return w(!0)}},c.a.createElement("i",{className:"fas fa-qrcode"})),C&&c.a.createElement(L,{link:e.link,hideFun:function(){return w(!1)}})))},T=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),o=a[0],i=a[1],r=function(){""!==o&&(e.addTask(o),i(""))};return c.a.createElement("div",{className:d.a.inputWrapper,id:"addCard"},c.a.createElement("input",{autoComplete:"off",id:"input",placeholder:"New task...",className:d.a.input,value:o,onChange:function(e){i(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),document.activeElement.blur(),r())}}),c.a.createElement("div",{className:d.a.addButton,id:"button",style:""!==o?Object(s.a)({opacity:1},y(e.color)):Object(s.a)({opacity:.6},y(e.color)),onClick:r},c.a.createElement("i",{className:"fas fa-plus-circle"})))},D=function(e){return c.a.createElement("div",{style:Object(s.a)({display:"flex",justifyContent:"center"},y(e.color))},c.a.createElement("div",{className:d.a.hiddenWrapper,onClick:e.hidden?e.expandDone:e.hideDone},c.a.createElement("div",{className:d.a.ic,style:y(e.color)},c.a.createElement("i",{className:e.hidden?"fas fa-chevron-down":"fas fa-chevron-up"})),c.a.createElement("div",{className:d.a.label},e.hidden?"".concat(e.hiddenCount," item").concat(1===e.hiddenCount?"":"s"," done"):"Hide checked")))},F=function(){var e=Object(l.g)().id,t=Object(n.useState)({}),a=Object(u.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)(""),s=Object(u.a)(r,2),m=s[0],f=s[1],p=Object(n.useState)(N("")),_=Object(u.a)(p,2),b=_[0],v=_[1],h=Object(n.useState)(""),y=Object(u.a)(h,2),j=y[0],g=y[1],k=Object(n.useState)(!0),C=Object(u.a)(k,2),w=C[0],x=C[1];Object(n.useEffect)((function(){g(window.location.href),window.scrollTo({top:0,behavior:"smooth"})}),[]),Object(n.useEffect)((function(){L(e)}),[e]);var I=function(){var t=JSON.parse(localStorage.getItem("history")),a=JSON.parse(localStorage.getItem("pins"));if(null===a&&(a=[]),null===t&&(t=[]),t.includes(e)){var n=t.indexOf(e);t.splice(n,1)}if(a.includes(e)){var c=a.indexOf(e);a.splice(c,1),a.unshift(e),localStorage.setItem("pins",JSON.stringify(a))}else t.unshift(e)>10&&t.pop();localStorage.setItem("history",JSON.stringify(t))},L=function(e){E.fetchList(e).then((function(e){I(),null!=e&&(i(e.items),f(e.name),v(N(e.color)))}))},F=0,J=o?Object.entries(o).map((function(t){var a=Object(u.a)(t,2),n=a[0],o=a[1];if(o.done)return F++,c.a.createElement(S,{color:b,done:o.done,text:o.text,key:n,id:n,list:e,update:L})})):null,W=o?Object.entries(o).map((function(t){var a=Object(u.a)(t,2),n=a[0],o=a[1];if(!o.done)return c.a.createElement(S,{color:b,done:o.done,text:o.text,key:n,id:n,list:e,update:L})})):null;return c.a.createElement("div",{className:d.a.background,style:O(b)},c.a.createElement(H,{title:m,listId:e,update:L,link:j,color:b}),c.a.createElement("div",{className:d.a.list},0===F||c.a.createElement(D,{expandDone:function(){return x(!1)},hidden:w,hideDone:function(){return x(!0)},hiddenCount:F,color:b}),w||J,W,c.a.createElement(T,{addTask:function(t){document.querySelector("#input").focus(),E.addTask(e,t).then((function(t){t.name&&L(e)}))},color:b}),c.a.createElement("div",{className:d.a.pseudoExtender})))},J=a(2),W=a.n(J),B=a(17),A=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)([]),l=Object(u.a)(r,2),s=l[0],m=l[1],d=Object(n.useState)(!1),f=Object(u.a)(d,2),p=f[0],_=f[1];Object(n.useEffect)((function(){b(),v()}),[]);var b=function(){var e=localStorage.getItem("syncKey");if(null!=e)E.fetchPins(e).then((function(e){null!=e?(m(e.pins),localStorage.setItem("pins",JSON.stringify(e.pins))):(m([]),localStorage.setItem("pins",JSON.stringify([])))}));else{var t=localStorage.getItem("pins");null!=t&&m(JSON.parse(t))}},v=function(){var e=localStorage.getItem("history");null!=e&&i(JSON.parse(e)),setTimeout((function(){_(!0)}),1e3)},h=o.map((function(e){return c.a.createElement(Y,{id:e,key:e,pin:!1})})),N=s.map((function(e){return c.a.createElement(Y,{id:e,key:e,pin:!0})}));return c.a.createElement("div",{className:W.a.history},N,h,c.a.createElement(K,{setItems:i,historyLoaded:p,hasHistory:0!==h.length}))},Y=function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),o=a[0],i=a[1];Object(n.useEffect)((function(){l()}),[e.id]);var l=function(){E.fetchList(e.id).then((function(e){i(null!=e?{name:e.name,color:N(e.color)}:{name:"It's a bug ;)",color:N("")})}))};return c.a.createElement(r.b,{to:"/".concat(e.id),style:{textDecoration:"none",color:"black"}},c.a.createElement("div",{className:W.a.itemWrapper,style:o.name?{opacity:1}:{opacity:0}},c.a.createElement("div",{className:W.a.circle,style:y(o.color)},o.color&&c.a.createElement("i",{className:e.pin?"fas fa-star":"fas fa-circle"})),c.a.createElement("div",{className:W.a.listName},o.name||"")))},P=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(null),l=Object(u.a)(i,2),s=l[0],m=l[1],d=Object(n.useState)(""),f=Object(u.a)(d,2),p=f[0],_=f[1],b=Object(n.useState)(!1),v=Object(u.a)(b,2),h=v[0],N=v[1],y=Object(n.useState)(!1),O=Object(u.a)(y,2),j=O[0],g=O[1],S=Object(n.useState)(!1),k=Object(u.a)(S,2),C=k[0],w=k[1];Object(n.useEffect)((function(){x()}),[a]);var x=function(){var e=localStorage.getItem("syncKey");o(null!=e),m(e),_(I)},I=function(){return window.location.href+"sync/"+s};return c.a.createElement("div",{className:W.a.syncWrapper,style:C||j?{}:{opacity:.6}},a?c.a.createElement("div",{className:W.a.isSynced},c.a.createElement("div",{className:W.a.syncedOptions},c.a.createElement(B.CopyToClipboard,{text:p,onCopy:function(){return N(!0)}},c.a.createElement("div",{className:W.a.btn},c.a.createElement("i",{className:h?"fas fa-check":"fas fa-link"}),h?"Copied":"Link")),c.a.createElement("div",{className:W.a.btn,onClick:function(){return g(!0)}},c.a.createElement("i",{className:"fas fa-qrcode"}),"QR"),j&&c.a.createElement(L,{link:p,hideFun:function(){return g(!1)}}),c.a.createElement("div",{className:W.a.btn,onClick:function(){return w(!C)}},c.a.createElement("i",{className:C?"fas fa-chevron-up":"fas fa-chevron-down"}),"Hint")),C&&c.a.createElement("div",{className:W.a.hint},"Your pinned lists are cloud stored. You can sync a new device using the link above. ",c.a.createElement(r.b,{style:{color:"black"},to:"/nosync"},"Disable sync"))):c.a.createElement("div",{className:W.a.isSynced},c.a.createElement("div",{className:W.a.localOptions},c.a.createElement("div",{className:W.a.btn,onClick:function(){E.createUser().then((function(e){if(null!=e){var t=JSON.parse(localStorage.getItem("pins"));E.setPins(e.name,t).then((function(){m(e.name),o(!0),_(I()),localStorage.setItem("syncKey",e.name)}))}}))}},c.a.createElement("i",{className:"fas fa-cloud"}),"New Cloud"),c.a.createElement("div",{className:W.a.btn,onClick:function(){return w(!C)}},c.a.createElement("i",{className:C?"fas fa-chevron-up":"fas fa-chevron-down"}),"Hint")),C&&c.a.createElement("div",{className:W.a.hint},"This devise shows your local pins. Start with creating a Cloud for pins. You'll be able to sync your connected devices")))},K=function(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),o=a[0],i=a[1],r=Object(n.useState)([]),l=Object(u.a)(r,2),s=l[0],m=l[1],d=Object(n.useState)(1),f=Object(u.a)(d,2),p=f[0],_=f[1],b=Object(n.useState)(0),E=Object(u.a)(b,2),v=E[0],h=E[1];return e.hasHistory||o?c.a.createElement("div",{className:W.a.clearWrapper,onClick:o?function(){clearTimeout(v),localStorage.setItem("history",JSON.stringify(s)),e.setItems(s),i(!1),_(1)}:function(){!function(){var e=JSON.parse(localStorage.getItem("history"));m(e)}(),i(!0),localStorage.removeItem("history"),e.setItems([]),h(setTimeout((function(){_(.5),h(setTimeout((function(){_(0),h(setTimeout((function(){return i(!1)}),500))}),3500))}),2e3))},style:e.historyLoaded?{opacity:p}:{opacity:0}},o?"Undo":"Clear history"):null},U=function(){var e=Object(n.useState)(j[0]),t=Object(u.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(""),r=Object(u.a)(i,2),s=r[0],m=r[1],d=Object(n.useState)(""),f=Object(u.a)(d,2),p=f[0],_=f[1],b=function(){E.createList(""!==s?s:"New list",a).then((function(e){_("/"+e.name)}))},v=j.map((function(e){return c.a.createElement("div",{className:a===e?W.a.colorActive:W.a.color,style:{backgroundColor:e},onClick:function(){return o(e)}})}));return""!==p?c.a.createElement(l.a,{to:p}):c.a.createElement("div",{className:W.a.wrapper},c.a.createElement("div",null,c.a.createElement(P,null),c.a.createElement("div",{className:W.a.form},c.a.createElement("div",{className:W.a.input},c.a.createElement("input",{onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),b())},placeholder:"New List...",value:s,onChange:function(e){return m(e.target.value)}})),c.a.createElement("div",{className:W.a.colorsSection},c.a.createElement("div",{className:W.a.colors},v)),c.a.createElement("div",{className:W.a.buttonSection},c.a.createElement("div",{className:W.a.button,onClick:b},"Create List"))),c.a.createElement(A,null)))},q=a(11),M=a.n(q),Q=a(20),Z=a.n(Q),z=function(e){var t=Object(l.g)().id,a=Object(n.useState)(!1),o=Object(u.a)(a,2),i=o[0],s=o[1];return i?c.a.createElement(l.a,{to:"/"}):e.nosync?c.a.createElement("div",{className:M.a.wrapper},c.a.createElement("div",{className:M.a.form},c.a.createElement("img",{src:Z.a,className:M.a.logo,alt:"logo"}),c.a.createElement("div",null,"Note that this device will be no longer synchronized with your cloud pins."),c.a.createElement("div",{className:M.a.btn,onClick:function(){localStorage.removeItem("syncKey"),s(!0)}},c.a.createElement("i",{className:"fas fa-plane"})," Disable sync"),c.a.createElement("div",{className:M.a.link},c.a.createElement(r.b,{to:"/",style:{color:"black"}},"Cancel")))):c.a.createElement("div",{className:M.a.wrapper},c.a.createElement("div",{className:M.a.form},c.a.createElement("img",{src:Z.a,className:M.a.logo,alt:"logo"}),c.a.createElement("div",null,"Your device is going to be synchronized with your cloud pins. Your local pins will be erased."),c.a.createElement("div",{className:M.a.btn,onClick:function(){localStorage.setItem("syncKey",t),s(!0)}},c.a.createElement("i",{className:"fas fa-cloud"}),"Enable sync"),c.a.createElement("div",{className:M.a.link},c.a.createElement(r.b,{to:"/",style:{color:"black"}},"Cancel"))))},R=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(r.a,null,c.a.createElement(l.d,null,c.a.createElement(l.b,{exact:!0,path:"/sync/:id",render:function(){return c.a.createElement(z,null)}}),c.a.createElement(l.b,{exact:!0,path:"/nosync",render:function(){return c.a.createElement(z,{nosync:!0})}}),c.a.createElement(l.b,{exact:!0,path:"/",component:U}),c.a.createElement(l.b,{exact:!0,path:"/:id",component:F}))))};a(89),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.3710e4cc.chunk.js.map